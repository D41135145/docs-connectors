= Configure Custom HTTP Transport

By default, Anypoint Connector for Web Service Consumer (Web Service Consumer Connector) uses a simple unprotected HTTP configuration to dispatch all outgoing SOAP messages. For cases where a more advanced HTTP configuration is required, you can configure the Web Service Consumer Connector with an HTTP Connector configuration to dispatch the messages.

== Configure Custom HTTP Transport

The following example illustrates how you can declare an HTTP Requester configuration with Basic authentication in the *Transport Configuration* parameter of the Web Service Consumer Connector configuration to ensure that the connector dispatches each request:

. In Studio, open the *Global Element Properties* window of the Web Service Consumer Connector.
. On the *Transport* tab, for *Transport Configuration*, select `HTTP Transport Configuration`. +
The *Requester Config* field automatically populates `---- Create a new configuration ----`.
. Click the plus sign (+) next to create an HTTP configuration.
. In the *HTTP Request configuration* window, set the HTTP configuration details. +
Note that in this window you can set the HTTP *Authentication* or *Proxy* if you desire.
. Click *OK* to close the HTTP configuration window. +
The *Requester Config* field automatically changes to your HTTP configuration name `HTTP_Request_configuration`.
. Click *OK* to finish the Web Service Consumer Connector configuration.

In Studio, configuring custom HTTP transport looks like this:

.Configure Custom HTTP Transport
image::web-service-consumer-configure-transport.png[Configure Custom HTTP Transport]

.Configure Custom HTTP Request Configuration
image::web-service-consumer-configure-transport2.png[Configure HTTP Request Configuration]

In the *Configuration XML* tab, the reference of the HTTP Requester configuration `<http:request-config name="HTTP_Request_configuration">` is under the Web Service Consumer configuration `<wsc:custom-transport-configuration>`:

[source,xml,linenums]
----
<http:request-config name="HTTP_Request_configuration">
    <http:request-connection host="www.examplehost.com" port="8182" protocol="HTTP">
        <http:authentication>
            <http:basic-authentication username="admin" password="textpassword"/>
        </http:authentication>
    </http:request-connection>
</http:request-config>

<wsc:config name="with-custom-transport">
    <wsc:connection wsdlLocation="http://www.host.com?WSDL" service="Service" port="Port">
        <wsc:custom-transport-configuration>
            <wsc:http-transport-configuration requesterConfig="HTTP_Request_configuration"/>
        </wsc:custom-transport-configuration>
    </wsc:connection>
</wsc:config>
----

== See Also

* xref:web-service-consumer-config-topics.adoc[Web Service Consumer Connector Additional Configuration]
* https://help.mulesoft.com[MuleSoft Help Center]
* xref:web-service-consumer-reference.adoc[Web Service Consumer Connector Reference]
